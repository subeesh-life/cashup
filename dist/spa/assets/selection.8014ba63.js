import{c as w,h as x,d as R}from"./render.3a85ff9b.js";import{c,h as y,i as S,B as k,r as B,w as v,k as z,E as M,g as Q,o as U,C as H,V as _,W as A}from"./index.b9face39.js";import{Q as O}from"./scroll.74c5aaa6.js";import{v as P,c as $}from"./QBtn.f3a58e67.js";var L=w({name:"QToolbarTitle",props:{shrink:Boolean},setup(t,{slots:r}){const l=c(()=>"q-toolbar__title ellipsis"+(t.shrink===!0?" col-shrink":""));return()=>y("div",{class:l.value},x(r.default))}}),j=w({name:"QToolbar",props:{inset:Boolean},setup(t,{slots:r}){const l=c(()=>"q-toolbar row no-wrap items-center"+(t.inset===!0?" q-toolbar--inset":""));return()=>y("div",{class:l.value,role:"toolbar"},x(r.default))}}),E=w({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:r,emit:l}){const{proxy:{$q:m}}=Q(),o=S(M,k);if(o===k)return console.error("QHeader needs to be child of QLayout"),k;const p=B(parseInt(t.heightHint,10)),s=B(!0),u=c(()=>t.reveal===!0||o.view.value.indexOf("H")!==-1||m.platform.is.ios&&o.isContainer.value===!0),i=c(()=>{if(t.modelValue!==!0)return 0;if(u.value===!0)return s.value===!0?p.value:0;const e=p.value-o.scroll.value.position;return e>0?e:0}),h=c(()=>t.modelValue!==!0||u.value===!0&&s.value!==!0),d=c(()=>t.modelValue===!0&&h.value===!0&&t.reveal===!0),q=c(()=>"q-header q-layout__section--marginal "+(u.value===!0?"fixed":"absolute")+"-top"+(t.bordered===!0?" q-header--bordered":"")+(h.value===!0?" q-header--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus":"")),g=c(()=>{const e=o.rows.value.top,a={};return e[0]==="l"&&o.left.space===!0&&(a[m.lang.rtl===!0?"right":"left"]=`${o.left.size}px`),e[2]==="r"&&o.right.space===!0&&(a[m.lang.rtl===!0?"left":"right"]=`${o.right.size}px`),a});function n(e,a){o.update("header",e,a)}function f(e,a){e.value!==a&&(e.value=a)}function V({height:e}){f(p,e),n("size",e)}function T(e){d.value===!0&&f(s,!0),l("focusin",e)}v(()=>t.modelValue,e=>{n("space",e),f(s,!0),o.animate()}),v(i,e=>{n("offset",e)}),v(()=>t.reveal,e=>{e===!1&&f(s,t.modelValue)}),v(s,e=>{o.animate(),l("reveal",e)}),v(o.scroll,e=>{t.reveal===!0&&f(s,e.direction==="up"||e.position<=t.revealOffset||e.position-e.inflectionPoint<100)});const b={};return o.instances.header=b,t.modelValue===!0&&n("size",p.value),n("space",t.modelValue),n("offset",i.value),z(()=>{o.instances.header===b&&(o.instances.header=void 0,n("size",0),n("offset",0),n("space",!1))}),()=>{const e=R(r.default,[]);return t.elevated===!0&&e.push(y("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),e.push(y(O,{debounce:0,onResize:V})),y("header",{class:q.value,style:g.value,onFocusin:T},e)}}});const N={dark:{type:Boolean,default:null}};function K(t,r){return c(()=>t.dark===null?r.dark.isActive:t.dark)}const W={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},G=["beforeShow","show","beforeHide","hide"];function J({showing:t,canShow:r,hideOnRouteChange:l,handleShow:m,handleHide:o,processOnMount:p}){const s=Q(),{props:u,emit:i,proxy:h}=s;let d;function q(e){t.value===!0?f(e):g(e)}function g(e){if(u.disable===!0||e!==void 0&&e.qAnchorHandled===!0||r!==void 0&&r(e)!==!0)return;const a=u["onUpdate:modelValue"]!==void 0;a===!0&&(i("update:modelValue",!0),d=e,H(()=>{d===e&&(d=void 0)})),(u.modelValue===null||a===!1)&&n(e)}function n(e){t.value!==!0&&(t.value=!0,i("beforeShow",e),m!==void 0?m(e):i("show",e))}function f(e){if(u.disable===!0)return;const a=u["onUpdate:modelValue"]!==void 0;a===!0&&(i("update:modelValue",!1),d=e,H(()=>{d===e&&(d=void 0)})),(u.modelValue===null||a===!1)&&V(e)}function V(e){t.value!==!1&&(t.value=!1,i("beforeHide",e),o!==void 0?o(e):i("hide",e))}function T(e){u.disable===!0&&e===!0?u["onUpdate:modelValue"]!==void 0&&i("update:modelValue",!1):e===!0!==t.value&&(e===!0?n:V)(d)}v(()=>u.modelValue,T),l!==void 0&&P(s)===!0&&v(()=>h.$route.fullPath,()=>{l.value===!0&&t.value===!0&&f()}),p===!0&&U(()=>{T(u.modelValue)});const b={show:g,hide:f,toggle:q};return Object.assign(h,b),b}function X(){let t=null;const r=Q();function l(){t!==null&&(clearTimeout(t),t=null)}return _(l),z(l),{removeTimeout:l,registerTimeout(m,o){l(),$(r)===!1&&(t=setTimeout(m,o))}}}function Y(){if(window.getSelection!==void 0){const t=window.getSelection();t.empty!==void 0?t.empty():t.removeAllRanges!==void 0&&(t.removeAllRanges(),A.is.mobile!==!0&&t.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}export{j as Q,K as a,W as b,Y as c,G as d,X as e,J as f,L as g,E as h,N as u};
